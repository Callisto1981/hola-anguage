pokemonRepository=function(){var o=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150";$("ul");function e(o){var n=$("#exampleModal");n.innerHTML="";var e=$('<div class="modal"></div>');$("body").append(e);var t=$('<button class="modal-close">Close</button>');$("body").append(t),t.on("click",hideModal);var a=$('<h1 class="pokemon-name"></h1>');$("body").append(a);var i=$('<p class="pokemon-height">Height: </p>');$("body").append(i);var l=$('<img src="'+o.imageUrl+'">');$("div.pokemon-img").html(l),n.classList.add("is-visible")}function t(n){o.push(n)}return $("#show-modal").on("click",()=>{e("Name")}),window.addEventListener("keydown",o=>{$modalContainer=document.querySelector("#exampleModal"),"Escape"===o.key&&$modalContainer.classList.contains("is-visibile")&&hideModal()}),$modalContainer.on("click",o=>{o.target===$modalContainer&&hideModal()}),{add:t,getAll:function(){return o},search:search,addListItem:function(o){var n=$("<li></li>");$pokemonlist.append(n);var t=$('<button class="pokemon-button"></button>');t.innerText=o.name,listItem.append(t),t.on("click",function(n){var t;t=o,pokemonRepository.loadDetails(t).then(function(){e(t)})})},loadList:function(){return $.ajax(n,{dataType:"json"}).then(function(o){return o}).then(function(o){o.results.forEach(function(o){t({name:o.name,detailsUrl:o.url})})}).catch(function(o){console.error(o)})},loadDetails:function(o){var n=o.detailsUrl;return $.ajax(n,{dataType:"json"}).then(function(o){return o}).then(function(n){o.imageUrl=n.sprite.front_default,o.height=n.height,o.types=Object.keys(n.types)}).catch(function(o){console.error(o)})},showModal:e,hideModal:hideModal}}(),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(o){addListItem(o)})});
